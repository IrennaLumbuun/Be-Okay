<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width, initial-scale=1.0">
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-auth.js"></script>
    <!--To do: import firestore-->
    <link rel="stylesheet" href="./login.css">
    <style> 
        html,body{
            height:100%;
        }
        body{
            margin:0;
            color:#6a6f8c;
            background:transparent;
            font:600 16px/18px 'Open Sans',sans-serif;
        }
        #padding{
            position: fixed;
            background-color: #1f242e;
            background-image: url("./stardust.png");
            width: 100%;
            height: 3rem;
            margin: 0;
            z-index: 1;
        }
        #page-container{
            padding-top:3rem;
            height:100%;
        }
        *,:after,:before{
            box-sizing:border-box
        }
        #lines{
            height:60%;
            font:bold 1.5em Helvetica, Sans-Serif;
            letter-spacing: normal;
            padding: 0 2rem;
            color:rgb(255, 251, 230);
            display:block;
            margin: 1.5%;
            text-align:center;
        }
        div#tracker, div#changePasswordDiv, div#deleteAccountDiv, div#forgotPasswordDiv{
            position: absolute;
            top: 10rem;
            margin: auto;
            width: 80%;
            left:10%;
        }
        #tracker-label, #logger-label{
            padding: 2rem 0 1rem 1rem;
            color:white;
        }
        #logger-label{
            display:inline-block;
            margin-right:10px;
        }
        button#stress-logger, #update-graph {
            font-size: 1rem;
            padding: 0.5rem;
            border-radius: 10px;
            border: none;
            background-color: dimgray;
            color: white;
            font-weight: bold;
        }
        .answer{
            display:flex;
            opacity:0.9;
            justify-content: space-between;
            height:100%;
            width: 70%;
            margin-top:1rem;
            margin-left: 15%;
        }
        .options{
            border: none;
            padding: 0.5rem;
            text-align: center;
            width: 20%;
        }
        .options:hover{
            opacity:0.7;
        }
        .options:focus{
            outline-color: white;
            opacity:1;
        }
        #logger-note{
            background-color: rgba(0,0,0,0.3);
            color: white;
            padding: 0.5rem;
            width: -webkit-fill-available;
            height: 5rem;
            font-size: 0.8rem;
        }
        #logger-note:focus{
            outline:white;
        }
        #button-container{
            display:flex;
            justify-content:space-around;
        }
    </style>
</head>
<body>
    <div id="padding"></div>
    <div id="page-container">
        <!--Signup/Sign in-->
        <div class="login-wrap">
            <div id="lines">
                <div id="line2">Welcome back, captain!</div>
            </div>
            <!--Sign up/Sign in-->
            <div class="login-html">
                <input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">Sign In</label>
                <input id="tab-2" type="radio" name="tab" class="sign-up"><label for="tab-2" class="tab">Sign Up</label>
                <div class="login-form">
                    <div class="sign-in-htm">
                        <div class="group">
                            <label for="user" class="label">Email</label>
                            <input id="email-login" type="email" class="input">
                        </div>
                        <div class="group">
                            <label for="pass" class="label">Password</label>
                            <input id="password-login" type="password" class="input" data-type="password">
                        </div>
                        <!--To give users the option to keep them in
                        <div class="group">
                            <input id="check" type="checkbox" class="check" checked>
                            <label for="check"><span class="icon"></span> Keep me Signed in</label>
                        </div>-->
                        <div class="group">
                            <input type="submit" class="button" value="Sign In" id="sign-in" onclick="signIn()">
                        </div>
                        <div class="hr"></div>
                        <div class="foot-lnk">
                            <a href="#" onclick="forgotPassword()">Forgot Password?</a>
                        </div>
                    </div>
                    <div class="sign-up-htm">
                        <div class="group">
                            <label for="user" class="label">Name</label>
                            <input id="name-register" type="text" class="input">
                        </div>
                        <div class="group">
                            <label for="user" class="label">Email</label>
                            <input id="email-register" type="email" class="input">
                        </div>
                        <div class="group">
                            <label for="pass" class="label">Password</label>
                            <input id="password-register" type="password" class="input" data-type="password">
                            <input type="checkbox" style="margin-top:1rem" onclick="showPassword('password-register')"><label>show password</label>
                        </div>
                        <div class="group">
                        </div>
                        <div class="group">
                            <input type="submit" class="button" value="Sign Up" id="sign-up" onclick="signUp()">
                        </div>
                        <div class="hr"></div>
                        <div class="foot-lnk">
                            <label for="tab-1">Already a Member?</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Forgot password-->
        <div class="login-form" id="changePasswordDiv">
            <div class="group">
                <label for="old-password" class="label">Old Password</label>
                <input id="old-pass" type="password" class="input" data-type="password">
                <input type="checkbox" style="margin-top:1rem" onclick="showPassword('old-pass')"><label>show password</label>
            </div>
            <div class="group">
                <label for="pass" class="label">New Password</label>
                <input id="new-pass" type="password" class="input" data-type="password">
                <input type="checkbox" style="margin-top:1rem" onclick="showPassword('new-pass')"><label>show password</label>
            </div>
            <div class="group">
                <input type="submit" class="button" value="Update" onclick="updatePassword()">
            </div>
        </div>
        <!--Forgot Password-->
        <div class="login-form" id="forgotPasswordDiv">
            <div class="group">
                <label for="retype-email" class="label">Email</label>
                <input id="retype-email" type="email" class="input" data-type="password">
            </div>
            <div class="group">
                <input type="submit" class="button" value="Delete Account" onclick="showForgotPassword()">
            </div>
        </div>
        <!--Delete Account-->
        <div class="login-form" id="deleteAccountDiv">
            <div class="group">
                <label for="retype-password" class="label">Re-type your password</label>
                <input id="retype-pass" type="password" class="input" data-type="password">
                <input type="checkbox" style="margin-top:1rem" onclick="showPassword('retype-pass')"><label>show password</label>
            </div>
            <div class="group">
                <input type="submit" class="button" value="Delete Account" onclick="deleteAccount()">
            </div>
        </div>
        <!--tracker-->
        <div id="tracker">
            <!--Stress logger-->
            <h2 id="logger-label">Feeling stressed? </h2>
            <button type="button" id="stress-logger" onclick="showQuestionnaire()">Update Graph</button>
            <div id="stress-questionnaire">
                <h3>From the scale of 1 to 10, how stressed are you?</h3>
                <div class="answer">
                    <div class="options option1" tabindex="-1" data-value="1" style="background-color: #5b9648;">1</div>
                    <div class="options option2" tabindex="-1" data-value="2" style="background-color: #6cc251;">2</div>
                    <div class="options option3" tabindex="-1" data-value="3" style="background-color: #a0d620;">3</div>
                    <div class="options option4" tabindex="-1" data-value="4" style="background-color: #c7d450;">4</div>
                    <div class="options option5" tabindex="-1" data-value="5" style="background-color: #e39d07;">5</div>
                    <div class="options option6" tabindex="-1" data-value="6" style="background-color: #e38b07;">6</div>
                    <div class="options option7" tabindex="-1" data-value="7" style="background-color: #de6e18;">7</div>
                    <div class="options option8" tabindex="-1" data-value="8" style="background-color: #a13800;">8</div>
                    <div class="options option9" tabindex="-1" data-value="9" style="background-color: #a10000;">9</div>
                    <div class="options option10" tabindex="-1" data-value="10" style="background-color: #750000;">10</div>
                </div>
                <h3>Note: </h3>
                <textarea id="logger-note" placeholder="What triggers the stress?"></textarea>
                <button type="button" id="update-graph" onclick="updateGraph()">update</button>
            </div>

            <!--Graph-->
            <h2 id="tracker-label">Your stress tracker:</h2>

            <!--Settings-->
            <div id="button-container">
                <button type="button" id="change-password" onclick="changePassword()">Change Password</button>
                <button type="button" id="sign-out" onclick="signOut()">Sign Out</button>
                <button type="button" id="delete-account" onclick="showDeleteAccount()">Delete Account</button>
            </div>
        </div>
    </div>
    <script src="jquery-3.4.1.min.js"></script>
    <script src="login.js"></script>
    <script>
        /*
        Page flow (handle in login.js):
        1 - first time: show login page
        2 - when button is clicked, we verify info
        3 - when info is verified, login page is hid
        4 - toggle shows stress tracker
        */

        //default:
        $('.login-html').hide();
        $('#tracker').hide();
        $('#changePasswordDiv').hide();
        $('#deleteAccountDiv').hide();
        $('#forgotPasswordDiv').hide();
        $('#stress-questionnaire').hide();

        //show password
        function showPassword(input){
            var pass = document.getElementById(input);
            if (pass.type === "password") {
                pass.type = "text";
            } else {
                pass.type = "password";
            }
        }

        //change password
        function changePassword(){
            $('#changePasswordDiv').show();
            $('.login-html').hide();
            $('#tracker').hide();
            $('#deleteAccountDiv').hide();
        }

        //delete account
        function showDeleteAccount(){
            var confirm = window.confirm("Are you sure you want to delete your account?");
            if(confirm === true){
                $('#changePasswordDiv').hide();
                $('.login-html').hide();
                $('#tracker').hide();
                $('#deleteAccountDiv').show();  
            }
        }
        //forgot password
        function showForgotPassword(){
            $('#changePasswordDiv').hide();
            $('.login-html').hide();
            $('#tracker').hide();
            $('#deleteAccountDiv').hide();
            $('forgotPasswordDiv').show();
        }

        //stress questionnaire
        function showQuestionnaire(){
            $('#stress-questionnaire').show();
        }
        //mood tracker
    </script>
</body>
</html>